<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Manutenção</title>
</head>
<body>
    <h1>VERIFICAÇÃO DE MANUTENÇÃO</h1>
</br>
</br>
<li>
    <a href="hotel.html">
        Voltar para o Início
    </a>
</li>
    <script>

        var contador = 0
        var lista_empresa = []
        var lista_valor = []
        while(contador == 0){
            var empresa = prompt("Qual o nome da empresa?")
            lista_empresa.push(empresa)
            var valorA = parseFloat(prompt("Qual o valor por aparelho?"))
            var qtd = parseInt(prompt("Qual a quantidade de aparelhos?"))
            var desconto = parseFloat(prompt("Qual a porcentagem de desconto?"))
            var vm = parseInt(prompt("Qual o número mínimo de aparelhos para conseguir o desconto?"))
            if(vm < qtd){
                valorD = (valorA * qtd) - ((valorA * qtd)*(desconto / 100))
                lista_valor.push(valorD)
                alert('O serviço de ' + empresa + '  custará R$ ' + valorD.toFixed(2))
            }else{
                valorT = valorA * qtd
                lista_valor.push(valorT)
                alert('O serviço de ' + empresa + '  custará R$ ' + valorT.toFixed(2))
            }
            
            var info = prompt( "Deseja informar novos dados, " + empresa + "? (S/N)")
            if(info == 'S'){
                continue
            }else{
                const resultado = Math.min(...lista_valor)
                const posicao = lista_valor.indexOf(resultado);

                alert("O orçamento de menor valor é o [" + lista_empresa[posicao] + ' por R$ ' + resultado.toFixed(2) +']')
                break
        
        }
    }
    </script>
</body>
</html>